(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[523],{2798:(t,e,n)=>{"use strict";n.d(e,{useDrag:()=>J});const r={toVector:(t,e)=>(void 0===t&&(t=e),Array.isArray(t)?t:[t,t]),add:(t,e)=>[t[0]+e[0],t[1]+e[1]],sub:(t,e)=>[t[0]-e[0],t[1]-e[1]],addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function o(t,e,n){return 0===e||Math.abs(e)===1/0?Math.pow(t,5*n):t*e*n/(e+n*t)}function i(t,e,n,r=.15){return 0===r?function(t,e,n){return Math.max(e,Math.min(t,n))}(t,e,n):t<e?-o(e-t,n-e,r)+e:t>n?+o(t-n,n-e,r)+n:t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}const u={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function l(t){return t?t[0].toUpperCase()+t.slice(1):""}const h=["enter","leave"];function f(t,e="",n=!1){const r=u[t],o=r&&r[e]||e;return"on"+l(t)+l(o)+(function(t=!1,e){return t&&!h.includes(e)}(n,o)?"Capture":"")}const p=["gotpointercapture","lostpointercapture"];function d(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const r=p.includes(e)?"capturecapture":"capture",o=!!~e.indexOf(r);return o&&(e=e.replace("capture","")),{device:e,capture:o,passive:n}}function v(t){return"touches"in t}function m(t){return v(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function g(t){return v(t)?function(t){return"touchend"===t.type||"touchcancel"===t.type?t.changedTouches:t.targetTouches}(t)[0]:t}function y(t){return function(t){return Array.from(t.touches).filter((e=>{var n,r;return e.target===t.currentTarget||(null===(n=t.currentTarget)||void 0===n||null===(r=n.contains)||void 0===r?void 0:r.call(n,e.target))}))}(t).map((t=>t.identifier))}function b(t){const e=g(t);return v(t)?e.identifier:e.pointerId}function _(t){const e=g(t);return[e.clientX,e.clientY]}function w(t,...e){return"function"==typeof t?t(...e):t}function O(){}function S(...t){return 0===t.length?O:1===t.length?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function k(t,e){return Object.assign({},e,t||{})}class x{constructor(t,e,n){this.ctrl=t,this.args=e,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:e,ingKey:n,args:r}=this;e[n]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=r,t.axis=void 0,t.memo=void 0,t.elapsedTime=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const e=this.state,n=this.config;e._active||(this.reset(),this.computeInitial(),e._active=!0,e.target=t.target,e.currentTarget=t.currentTarget,e.lastOffset=n.from?w(n.from,e):e.offset,e.offset=e.lastOffset),e.startTime=e.timeStamp=t.timeStamp}computeValues(t){const e=this.state;e._values=t,e.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:e,config:n,shared:o}=this;e.args=this.args;let s=0;if(t&&(e.event=t,n.preventDefault&&t.cancelable&&e.event.preventDefault(),e.type=t.type,o.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,o.locked=!!document.pointerLockElement,Object.assign(o,function(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:r,metaKey:o,ctrlKey:i}=t;Object.assign(e,{shiftKey:n,altKey:r,metaKey:o,ctrlKey:i})}return e}(t)),o.down=o.pressed=o.buttons%2==1||o.touches>0,s=t.timeStamp-e.timeStamp,e.timeStamp=t.timeStamp,e.elapsedTime=e.timeStamp-e.startTime),e._active){const t=e._delta.map(Math.abs);r.addTo(e._distance,t)}this.axisIntent&&this.axisIntent(t);const[a,c]=e._movement,[u,l]=n.threshold,{_step:h,values:f}=e;if(n.hasCustomTransform?(!1===h[0]&&(h[0]=Math.abs(a)>=u&&f[0]),!1===h[1]&&(h[1]=Math.abs(c)>=l&&f[1])):(!1===h[0]&&(h[0]=Math.abs(a)>=u&&Math.sign(a)*u),!1===h[1]&&(h[1]=Math.abs(c)>=l&&Math.sign(c)*l)),e.intentional=!1!==h[0]||!1!==h[1],!e.intentional)return;const p=[0,0];if(n.hasCustomTransform){const[t,e]=f;p[0]=!1!==h[0]?t-h[0]:0,p[1]=!1!==h[1]?e-h[1]:0}else p[0]=!1!==h[0]?a-h[0]:0,p[1]=!1!==h[1]?c-h[1]:0;this.restrictToAxis&&!e._blocked&&this.restrictToAxis(p);const d=e.offset,v=e._active&&!e._blocked||e.active;v&&(e.first=e._active&&!e.active,e.last=!e._active&&e.active,e.active=o[this.ingKey]=e._active,t&&(e.first&&("bounds"in n&&(e._bounds=w(n.bounds,e)),this.setup&&this.setup()),e.movement=p,this.computeOffset()));const[m,g]=e.offset,[[y,b],[_,O]]=e._bounds;e.overflow=[m<y?-1:m>b?1:0,g<_?-1:g>O?1:0],e._movementBound[0]=!!e.overflow[0]&&(!1===e._movementBound[0]?e._movement[0]:e._movementBound[0]),e._movementBound[1]=!!e.overflow[1]&&(!1===e._movementBound[1]?e._movement[1]:e._movementBound[1]);const S=e._active&&n.rubberband||[0,0];if(e.offset=function(t,[e,n],[r,o]){const[[s,a],[c,u]]=t;return[i(e,s,a,r),i(n,c,u,o)]}(e._bounds,e.offset,S),e.delta=r.sub(e.offset,d),this.computeMovement(),v&&(!e.last||s>32)){e.delta=r.sub(e.offset,d);const t=e.delta.map(Math.abs);r.addTo(e.distance,t),e.direction=e.delta.map(Math.sign),e._direction=e._delta.map(Math.sign),!e.first&&s>0&&(e.velocity=[t[0]/s,t[1]/s])}}emit(){const t=this.state,e=this.shared,n=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!n.triggerAllEvents)return;const r=this.handler(c(c(c({},e),t),{},{[this.aliasKey]:t.values}));void 0!==r&&(t.memo=r)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}class T extends x{constructor(...t){super(...t),s(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=r.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=r.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const e=this.state,n=this.config;if(!e.axis&&t){const r="object"==typeof n.axisThreshold?n.axisThreshold[m(t)]:n.axisThreshold;e.axis=function([t,e],n){const r=Math.abs(t),o=Math.abs(e);return r>o&&r>n?"x":o>r&&o>n?"y":void 0}(e._movement,r)}e._blocked=(n.lockDirection||!!n.axis)&&!e.axis||!!n.axis&&n.axis!==e.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0}}}const C=t=>t,E={enabled:(t=!0)=>t,eventOptions:(t,e,n)=>c(c({},n.shared.eventOptions),t),preventDefault:(t=!1)=>t,triggerAllEvents:(t=!1)=>t,rubberband(t=0){switch(t){case!0:return[.15,.15];case!1:return[0,0];default:return r.toVector(t)}},from:t=>"function"==typeof t?t:null!=t?r.toVector(t):void 0,transform(t,e,n){const r=t||n.shared.transform;return this.hasCustomTransform=!!r,r||C},threshold:t=>r.toVector(t,0)};const I=c(c({},E),{},{axis(t,e,{axis:n}){if(this.lockDirection="lock"===n,!this.lockDirection)return n},axisThreshold:(t=0)=>t,bounds(t={}){if("function"==typeof t)return e=>I.bounds(t(e));if("current"in t)return()=>t.current;if("function"==typeof HTMLElement&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:r=-1/0,bottom:o=1/0}=t;return[[e,n],[r,o]]}}),A={ArrowRight:(t=1)=>[10*t,0],ArrowLeft:(t=1)=>[-10*t,0],ArrowUp:(t=1)=>[0,-10*t],ArrowDown:(t=1)=>[0,10*t]};const D="undefined"!=typeof window&&window.document&&window.document.createElement;function j(){return D&&"ontouchstart"in window||D&&window.navigator.maxTouchPoints>1}const P={isBrowser:D,gesture:function(){try{return"constructor"in GestureEvent}catch(t){return!1}}(),touch:j(),touchscreen:j(),pointer:D&&"onpointerdown"in window,pointerLock:D&&"exitPointerLock"in window.document},R={mouse:0,touch:0,pen:8},L=c(c({},I),{},{device(t,e,{pointer:{touch:n=!1,lock:r=!1,mouse:o=!1}={}}){return this.pointerLock=r&&P.pointerLock,P.touch&&n?"touch":this.pointerLock?"mouse":P.pointer&&!o?"pointer":P.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay="number"==typeof n?n:n||void 0===n&&t?250:void 0,P.touchscreen&&!1!==n)return t||(void 0!==n?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:r=1,keys:o=!0}={}}){return this.pointerButtons=r,this.keys=o,!this.pointerLock&&"pointer"===this.device&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:o=3,axis:i}){const s=r.toVector(t,n?o:i?1:0);return this.filterTaps=n,this.tapsThreshold=o,s},swipe({velocity:t=.5,distance:e=50,duration:n=250}={}){return{velocity:this.transform(r.toVector(t)),distance:this.transform(r.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return 180;case!1:return 0;default:return t}},axisThreshold:t=>t?c(c({},R),t):R});c(c({},E),{},{device(t,e,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!P.touch&&P.gesture)return"gesture";if(P.touch&&r)return"touch";if(P.touchscreen){if(P.pointer)return"pointer";if(P.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:r={}}){const o=t=>{const e=k(w(n,t),{min:-1/0,max:1/0});return[e.min,e.max]},i=t=>{const e=k(w(r,t),{min:-1/0,max:1/0});return[e.min,e.max]};return"function"!=typeof n&&"function"!=typeof r?[o(),i()]:t=>[o(t),i(t)]},threshold(t,e,n){this.lockDirection="lock"===n.axis;return r.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey:t=>void 0===t?"ctrlKey":t,pinchOnWheel:(t=!0)=>t});c(c({},I),{},{mouseOnly:(t=!0)=>t});c(c({},I),{},{mouseOnly:(t=!0)=>t});const M=new Map,K=new Map;const U={key:"drag",engine:class extends T{constructor(...t){super(...t),s(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const e=t._bounds.getBoundingClientRect(),n=t.currentTarget.getBoundingClientRect(),r={left:e.left-n.left+t.offset[0],right:e.right-n.right+t.offset[0],top:e.top-n.top+t.offset[1],bottom:e.bottom-n.bottom+t.offset[1]};t._bounds=I.bounds(r)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout((()=>{this.compute(),this.emit()}),0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const e=this.config,n=this.state;if(null!=t.buttons&&(Array.isArray(e.pointerButtons)?!e.pointerButtons.includes(t.buttons):-1!==e.pointerButtons&&e.pointerButtons!==t.buttons))return;const r=this.ctrl.setEventIds(t);e.pointerCapture&&t.target.setPointerCapture(t.pointerId),r&&r.size>1&&n._pointerActive||(this.start(t),this.setupPointer(t),n._pointerId=b(t),n._pointerActive=!0,this.computeValues(_(t)),this.computeInitial(),e.preventScrollAxis&&"mouse"!==m(t)?(n._active=!1,this.setupScrollPrevention(t)):e.delay>0?(this.setupDelayTrigger(t),e.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const e=this.state;e._active=!0,e._preventScroll=!0,e._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const e=this.state,n=this.config;if(!e._pointerActive)return;if(e.type===t.type&&t.timeStamp===e.timeStamp)return;const o=b(t);if(void 0!==e._pointerId&&o!==e._pointerId)return;const i=_(t);return document.pointerLockElement===t.target?e._delta=[t.movementX,t.movementY]:(e._delta=r.sub(i,e._values),this.computeValues(i)),r.addTo(e._movement,e._delta),this.compute(t),e._delayed&&e.intentional?(this.timeoutStore.remove("dragDelay"),e.active=!1,void this.startPointerDrag(t)):n.preventScrollAxis&&!e._preventScroll?e.axis?e.axis===n.preventScrollAxis||"xy"===n.preventScrollAxis?(e._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(t)):void 0:void this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch(t){0}const e=this.state,n=this.config;if(!e._active||!e._pointerActive)return;const r=b(t);if(void 0!==e._pointerId&&r!==e._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[o,i]=e._distance;if(e.tap=o<=n.tapsThreshold&&i<=n.tapsThreshold,e.tap&&n.filterTaps)e._force=!0;else{const[t,r]=e.direction,[o,i]=e.velocity,[s,a]=e.movement,[c,u]=n.swipe.velocity,[l,h]=n.swipe.distance,f=n.swipe.duration;e.elapsedTime<f&&(Math.abs(o)>c&&Math.abs(s)>l&&(e.swipe[0]=t),Math.abs(i)>u&&Math.abs(a)>h&&(e.swipe[1]=r))}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const e=this.config,n=e.device;e.pointerLock&&t.currentTarget.requestPointerLock(),e.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,function(t){"persist"in t&&"function"==typeof t.persist&&t.persist()}(t);const e=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",e),this.eventStore.add(this.sharedConfig.window,"touch","cancel",e),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",(()=>{this.state._step=[0,0],this.startPointerDrag(t)}),this.config.delay)}keyDown(t){const e=A[t.key];if(e){const n=this.state,o=t.shiftKey?10:t.altKey?.1:1;this.start(t),n._delta=e(o),n._keyboardActive=!0,r.addTo(n._movement,n._delta),this.compute(t),this.emit()}}keyUp(t){t.key in A&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const e=this.config.device;t(e,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(e,"change",this.pointerMove.bind(this)),t(e,"end",this.pointerUp.bind(this)),t(e,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}},resolver:L};var V=n(2983);function B(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}const $={target(t){if(t)return()=>"current"in t?t.current:t},enabled:(t=!0)=>t,window:(t=(P.isBrowser?window:void 0))=>t,eventOptions:({passive:t=!0,capture:e=!1}={})=>({passive:t,capture:e}),transform:t=>t},q=["target","eventOptions","window","enabled","transform"];function H(t={},e){const n={};for(const[r,o]of Object.entries(e))switch(typeof o){case"function":n[r]=o.call(n,t[r],r,t);break;case"object":n[r]=H(t[r],o);break;case"boolean":o&&(n[r]=t[r])}return n}class F{constructor(t,e){s(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=e}add(t,e,n,r,o){const i=this._listeners,s=function(t,e=""){const n=u[t];return t+(n&&n[e]||e)}(e,n),a=c(c({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),o);t.addEventListener(s,r,a);const l=()=>{t.removeEventListener(s,r,a),i.delete(l)};return i.add(l),l}clean(){this._listeners.forEach((t=>t())),this._listeners.clear()}}class N{constructor(){s(this,"_timeouts",new Map)}add(t,e,n=140,...r){this.remove(t),this._timeouts.set(t,window.setTimeout(e,n,...r))}remove(t){const e=this._timeouts.get(t);e&&window.clearTimeout(e)}clean(){this._timeouts.forEach((t=>{window.clearTimeout(t)})),this._timeouts.clear()}}class z{constructor(t){s(this,"gestures",new Set),s(this,"_targetEventStore",new F(this)),s(this,"gestureEventStores",{}),s(this,"gestureTimeoutStores",{}),s(this,"handlers",{}),s(this,"config",{}),s(this,"pointerIds",new Set),s(this,"touchIds",new Set),s(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(t,e){e.drag&&W(t,"drag");e.wheel&&W(t,"wheel");e.scroll&&W(t,"scroll");e.move&&W(t,"move");e.pinch&&W(t,"pinch");e.hover&&W(t,"hover")}(this,t)}setEventIds(t){return v(t)?(this.touchIds=new Set(y(t)),this.touchIds):"pointerId"in t?("pointerup"===t.type||"pointercancel"===t.type?this.pointerIds.delete(t.pointerId):"pointerdown"===t.type&&this.pointerIds.add(t.pointerId),this.pointerIds):void 0}applyHandlers(t,e){this.handlers=t,this.nativeHandlers=e}applyConfig(t,e){this.config=function(t,e,n={}){const r=t,{target:o,eventOptions:i,window:s,enabled:a,transform:u}=r,l=B(r,q);if(n.shared=H({target:o,eventOptions:i,window:s,enabled:a,transform:u},$),e){const t=K.get(e);n[e]=H(c({shared:n.shared},l),t)}else for(const t in l){const e=K.get(t);e&&(n[t]=H(c({shared:n.shared},l[t]),e))}return n}(t,e,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const e=this.config.shared,n={};let r;if(!e.target||(r=e.target(),r)){if(e.enabled){for(const e of this.gestures){const o=this.config[e],i=Z(n,o.eventOptions,!!r);if(o.enabled){new(M.get(e))(this,t,e).bind(i)}}const o=Z(n,e.eventOptions,!!r);for(const e in this.nativeHandlers)o(e,"",(n=>this.nativeHandlers[e](c(c({},this.state.shared),{},{event:n,args:t}))),void 0,!0)}for(const t in n)n[t]=S(...n[t]);if(!r)return n;for(const t in n){const{device:e,capture:o,passive:i}=d(t);this._targetEventStore.add(r,e,"",n[t],{capture:o,passive:i})}}}}function W(t,e){t.gestures.add(e),t.gestureEventStores[e]=new F(t,e),t.gestureTimeoutStores[e]=new N}const Z=(t,e,n)=>(r,o,i,s={},a=!1)=>{var c,u;const l=null!==(c=s.capture)&&void 0!==c?c:e.capture,h=null!==(u=s.passive)&&void 0!==u?u:e.passive;let p=a?r:f(r,o,l);n&&h&&(p+="Passive"),t[p]=t[p]||[],t[p].push(i)};function G(t,e={},n,r){const o=V.useMemo((()=>new z(t)),[]);if(o.applyHandlers(t,r),o.applyConfig(e,n),V.useEffect(o.effect.bind(o)),V.useEffect((()=>o.clean.bind(o)),[]),void 0===e.target)return o.bind.bind(o)}function J(t,e){var n;return n=U,M.set(n.key,n.engine),K.set(n.key,n.resolver),G({drag:t},e||{},"drag")}},6325:(t,e,n)=>{var r="__lodash_hash_undefined__",o="[object Function]",i="[object GeneratorFunction]",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,c=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,l=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,f="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,p="object"==typeof self&&self&&self.Object===Object&&self,d=f||p||Function("return this")();var v,m=Array.prototype,g=Function.prototype,y=Object.prototype,b=d["__core-js_shared__"],_=(v=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",w=g.toString,O=y.hasOwnProperty,S=y.toString,k=RegExp("^"+w.call(O).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=d.Symbol,T=m.splice,C=U(d,"Map"),E=U(Object,"create"),I=x?x.prototype:void 0,A=I?I.toString:void 0;function D(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function j(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function P(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function R(t,e){for(var n,r,o=t.length;o--;)if((n=t[o][0])===(r=e)||n!=n&&r!=r)return o;return-1}function L(t,e){var n;e=function(t,e){if(q(t))return!1;var n=typeof t;if("number"==n||"symbol"==n||"boolean"==n||null==t||F(t))return!0;return a.test(t)||!s.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:q(n=e)?n:V(n);for(var r=0,o=e.length;null!=t&&r<o;)t=t[B(e[r++])];return r&&r==o?t:void 0}function M(t){if(!H(t)||(e=t,_&&_ in e))return!1;var e,n=function(t){var e=H(t)?S.call(t):"";return e==o||e==i}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?k:h;return n.test(function(t){if(null!=t){try{return w.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function K(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function U(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return M(n)?n:void 0}D.prototype.clear=function(){this.__data__=E?E(null):{}},D.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},D.prototype.get=function(t){var e=this.__data__;if(E){var n=e[t];return n===r?void 0:n}return O.call(e,t)?e[t]:void 0},D.prototype.has=function(t){var e=this.__data__;return E?void 0!==e[t]:O.call(e,t)},D.prototype.set=function(t,e){return this.__data__[t]=E&&void 0===e?r:e,this},j.prototype.clear=function(){this.__data__=[]},j.prototype.delete=function(t){var e=this.__data__,n=R(e,t);return!(n<0)&&(n==e.length-1?e.pop():T.call(e,n,1),!0)},j.prototype.get=function(t){var e=this.__data__,n=R(e,t);return n<0?void 0:e[n][1]},j.prototype.has=function(t){return R(this.__data__,t)>-1},j.prototype.set=function(t,e){var n=this.__data__,r=R(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},P.prototype.clear=function(){this.__data__={hash:new D,map:new(C||j),string:new D}},P.prototype.delete=function(t){return K(this,t).delete(t)},P.prototype.get=function(t){return K(this,t).get(t)},P.prototype.has=function(t){return K(this,t).has(t)},P.prototype.set=function(t,e){return K(this,t).set(t,e),this};var V=$((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(F(t))return A?A.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var n=[];return c.test(t)&&n.push(""),t.replace(u,(function(t,e,r,o){n.push(r?o.replace(l,"$1"):e||t)})),n}));function B(t){if("string"==typeof t||F(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function $(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=t.apply(this,r);return n.cache=i.set(o,s),s};return n.cache=new($.Cache||P),n}$.Cache=P;var q=Array.isArray;function H(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function F(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==S.call(t)}t.exports=function(t,e,n){var r=null==t?void 0:L(t,e);return void 0===r?n:r}},326:(t,e)=>{"use strict";var n=Object.prototype.hasOwnProperty;function r(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}function o(t){try{return encodeURIComponent(t)}catch(t){return null}}e.stringify=function(t,e){e=e||"";var r,i,s=[];for(i in"string"!=typeof e&&(e="?"),t)if(n.call(t,i)){if((r=t[i])||null!=r&&!isNaN(r)||(r=""),i=o(i),r=o(r),null===i||null===r)continue;s.push(i+"="+r)}return s.length?e+s.join("&"):""},e.parse=function(t){for(var e,n=/([^=?#&]+)=?([^&]*)/g,o={};e=n.exec(t);){var i=r(e[1]),s=r(e[2]);null===i||null===s||i in o||(o[i]=s)}return o}},9896:t=>{"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},9730:(t,e,n)=>{"use strict";var r=n(9896),o=n(326),i=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,s=/[\n\r\t]/g,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,l=/^[a-zA-Z]:/;function h(t){return(t||"").toString().replace(i,"")}var f=[["#","hash"],["?","query"],function(t,e){return v(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],p={hash:1,query:1};function d(t){var e,r=("undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).location||{},o={},i=typeof(t=t||r);if("blob:"===t.protocol)o=new g(unescape(t.pathname),{});else if("string"===i)for(e in o=new g(t,{}),p)delete o[e];else if("object"===i){for(e in t)e in p||(o[e]=t[e]);void 0===o.slashes&&(o.slashes=a.test(t.href))}return o}function v(t){return"file:"===t||"ftp:"===t||"http:"===t||"https:"===t||"ws:"===t||"wss:"===t}function m(t,e){t=(t=h(t)).replace(s,""),e=e||{};var n,r=u.exec(t),o=r[1]?r[1].toLowerCase():"",i=!!r[2],a=!!r[3],c=0;return i?a?(n=r[2]+r[3]+r[4],c=r[2].length+r[3].length):(n=r[2]+r[4],c=r[2].length):a?(n=r[3]+r[4],c=r[3].length):n=r[4],"file:"===o?c>=2&&(n=n.slice(2)):v(o)?n=r[4]:o?i&&(n=n.slice(2)):c>=2&&v(e.protocol)&&(n=r[4]),{protocol:o,slashes:i||v(o),slashesCount:c,rest:n}}function g(t,e,n){if(t=(t=h(t)).replace(s,""),!(this instanceof g))return new g(t,e,n);var i,a,c,u,p,y,b=f.slice(),_=typeof e,w=this,O=0;for("object"!==_&&"string"!==_&&(n=e,e=null),n&&"function"!=typeof n&&(n=o.parse),i=!(a=m(t||"",e=d(e))).protocol&&!a.slashes,w.slashes=a.slashes||i&&e.slashes,w.protocol=a.protocol||e.protocol||"",t=a.rest,("file:"===a.protocol&&(2!==a.slashesCount||l.test(t))||!a.slashes&&(a.protocol||a.slashesCount<2||!v(w.protocol)))&&(b[3]=[/(.*)/,"pathname"]);O<b.length;O++)"function"!=typeof(u=b[O])?(c=u[0],y=u[1],c!=c?w[y]=t:"string"==typeof c?~(p="@"===c?t.lastIndexOf(c):t.indexOf(c))&&("number"==typeof u[2]?(w[y]=t.slice(0,p),t=t.slice(p+u[2])):(w[y]=t.slice(p),t=t.slice(0,p))):(p=c.exec(t))&&(w[y]=p[1],t=t.slice(0,p.index)),w[y]=w[y]||i&&u[3]&&e[y]||"",u[4]&&(w[y]=w[y].toLowerCase())):t=u(t,w);n&&(w.query=n(w.query)),i&&e.slashes&&"/"!==w.pathname.charAt(0)&&(""!==w.pathname||""!==e.pathname)&&(w.pathname=function(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,o=n[r-1],i=!1,s=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),s++):s&&(0===r&&(i=!0),n.splice(r,1),s--);return i&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(w.pathname,e.pathname)),"/"!==w.pathname.charAt(0)&&v(w.protocol)&&(w.pathname="/"+w.pathname),r(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(~(p=w.auth.indexOf(":"))?(w.username=w.auth.slice(0,p),w.username=encodeURIComponent(decodeURIComponent(w.username)),w.password=w.auth.slice(p+1),w.password=encodeURIComponent(decodeURIComponent(w.password))):w.username=encodeURIComponent(decodeURIComponent(w.auth)),w.auth=w.password?w.username+":"+w.password:w.username),w.origin="file:"!==w.protocol&&v(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString()}g.prototype={set:function(t,e,n){var i=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||o.parse)(e)),i[t]=e;break;case"port":i[t]=e,r(e,i.protocol)?e&&(i.host=i.hostname+":"+e):(i.host=i.hostname,i[t]="");break;case"hostname":i[t]=e,i.port&&(e+=":"+i.port),i.host=e;break;case"host":i[t]=e,c.test(e)?(e=e.split(":"),i.port=e.pop(),i.hostname=e.join(":")):(i.hostname=e,i.port="");break;case"protocol":i.protocol=e.toLowerCase(),i.slashes=!n;break;case"pathname":case"hash":if(e){var s="pathname"===t?"/":"#";i[t]=e.charAt(0)!==s?s+e:e}else i[t]=e;break;case"username":case"password":i[t]=encodeURIComponent(e);break;case"auth":var a=e.indexOf(":");~a?(i.username=e.slice(0,a),i.username=encodeURIComponent(decodeURIComponent(i.username)),i.password=e.slice(a+1),i.password=encodeURIComponent(decodeURIComponent(i.password))):i.username=encodeURIComponent(decodeURIComponent(e))}for(var u=0;u<f.length;u++){var l=f[u];l[4]&&(i[l[1]]=i[l[1]].toLowerCase())}return i.auth=i.password?i.username+":"+i.password:i.username,i.origin="file:"!==i.protocol&&v(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(t){t&&"function"==typeof t||(t=o.stringify);var e,n=this,r=n.host,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var s=i+(n.protocol&&n.slashes||v(n.protocol)?"//":"");return n.username?(s+=n.username,n.password&&(s+=":"+n.password),s+="@"):n.password?(s+=":"+n.password,s+="@"):"file:"!==n.protocol&&v(n.protocol)&&!r&&"/"!==n.pathname&&(s+="@"),(":"===r[r.length-1]||c.test(n.hostname)&&!n.port)&&(r+=":"),s+=r+n.pathname,(e="object"==typeof n.query?t(n.query):n.query)&&(s+="?"!==e.charAt(0)?"?"+e:e),n.hash&&(s+=n.hash),s}},g.extractProtocol=m,g.location=d,g.trimLeft=h,g.qs=o,t.exports=g},4658:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>J});var r=n(2983);function o(t,e,n,r){return new(n||(n=Promise))((function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function a(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))}function i(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var s,a=function(){},c=a(),u=Object,l=function(t){return t===c},h=function(t){return"function"==typeof t},f=function(t,e){return u.assign({},t,e)},p="undefined",d=function(){return typeof window!=p},v=new WeakMap,m=0,g=function(t){var e,n,r=typeof t,o=t&&t.constructor,i=o==Date;if(u(t)!==t||i||o==RegExp)e=i?t.toJSON():"symbol"==r?t.toString():"string"==r?JSON.stringify(t):""+t;else{if(e=v.get(t))return e;if(e=++m+"~",v.set(t,e),o==Array){for(e="@",n=0;n<t.length;n++)e+=g(t[n])+",";v.set(t,e)}if(o==u){e="#";for(var s=u.keys(t).sort();!l(n=s.pop());)l(t[n])||(e+=n+":"+g(t[n])+",");v.set(t,e)}}return e},y=!0,b=d(),_=typeof document!=p,w=b&&window.addEventListener?window.addEventListener.bind(window):a,O=_?document.addEventListener.bind(document):a,S=b&&window.removeEventListener?window.removeEventListener.bind(window):a,k=_?document.removeEventListener.bind(document):a,x={isOnline:function(){return y},isVisible:function(){var t=_&&document.visibilityState;return l(t)||"hidden"!==t}},T={initFocus:function(t){return O("visibilitychange",t),w("focus",t),function(){k("visibilitychange",t),S("focus",t)}},initReconnect:function(t){var e=function(){y=!0,t()},n=function(){y=!1};return w("online",e),w("offline",n),function(){S("online",e),S("offline",n)}}},C=!d()||"Deno"in window,E=function(t){return d()&&typeof window.requestAnimationFrame!=p?window.requestAnimationFrame(t):setTimeout(t,1)},I=C?r.useEffect:r.useLayoutEffect,A="undefined"!=typeof navigator&&navigator.connection,D=!C&&A&&(["slow-2g","2g"].includes(A.effectiveType)||A.saveData),j=function(t){if(h(t))try{t=t()}catch(e){t=""}var e=[].concat(t);return[t="string"==typeof t?t:(Array.isArray(t)?t.length:t)?g(t):"",e,t?"$swr$"+t:""]},P=new WeakMap,R=function(t,e,n,r,o,i,s){void 0===s&&(s=!0);var a=P.get(t),c=a[0],u=a[1],l=a[3],h=c[e],f=u[e];if(s&&f)for(var p=0;p<f.length;++p)f[p](n,r,o);return i&&(delete l[e],h&&h[0])?h[0](2).then((function(){return t.get(e)})):t.get(e)},L=0,M=function(){return++L},K=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(void 0,void 0,void 0,(function(){var e,n,r,o,s,a,u,p,d,v,m,g,y,b,_,w,O,S,k,x,T;return i(this,(function(i){switch(i.label){case 0:if(e=t[0],n=t[1],r=t[2],o=t[3],a=!!l((s="boolean"==typeof o?{revalidate:o}:o||{}).populateCache)||s.populateCache,u=!1!==s.revalidate,p=!1!==s.rollbackOnError,d=s.optimisticData,v=j(n),m=v[0],g=v[2],!m)return[2];if(y=P.get(e),b=y[2],t.length<3)return[2,R(e,m,e.get(m),c,c,u,!0)];if(_=r,O=M(),b[m]=[O,0],S=!l(d),k=e.get(m),S&&(x=h(d)?d(k):d,e.set(m,x),R(e,m,x)),h(_))try{_=_(e.get(m))}catch(t){w=t}return _&&h(_.then)?[4,_.catch((function(t){w=t}))]:[3,2];case 1:if(_=i.sent(),O!==b[m][0]){if(w)throw w;return[2,_]}w&&S&&p&&(a=!0,_=k,e.set(m,k)),i.label=2;case 2:return a&&(w||(h(a)&&(_=a(_,k)),e.set(m,_)),e.set(g,f(e.get(g),{error:w}))),b[m][1]=M(),[4,R(e,m,_,w,c,u,!!a)];case 3:if(T=i.sent(),w)throw w;return[2,a?T:_]}}))}))},U=function(t,e){for(var n in t)t[n][0]&&t[n][0](e)},V=function(t,e){if(!P.has(t)){var n=f(T,e),r={},o=K.bind(c,t),i=a;if(P.set(t,[r,{},{},{},o]),!C){var s=n.initFocus(setTimeout.bind(c,U.bind(c,r,0))),u=n.initReconnect(setTimeout.bind(c,U.bind(c,r,1)));i=function(){s&&s(),u&&u(),P.delete(t)}}return[t,o,i]}return[t,P.get(t)[4]]},B=V(new Map),$=B[0],q=B[1],H=f({onLoadingSlow:a,onSuccess:a,onError:a,onErrorRetry:function(t,e,n,r,o){var i=n.errorRetryCount,s=o.retryCount,a=~~((Math.random()+.5)*(1<<(s<8?s:8)))*n.errorRetryInterval;!l(i)&&s>i||setTimeout(r,a,o)},onDiscarded:a,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:D?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:D?5e3:3e3,compare:function(t,e){return g(t)==g(e)},isPaused:function(){return!1},cache:$,mutate:q,fallback:{}},x),F=function(t,e){var n=f(t,e);if(e){var r=t.use,o=t.fallback,i=e.use,s=e.fallback;r&&i&&(n.use=r.concat(i)),o&&s&&(n.fallback=f(o,s))}return n},N=(0,r.createContext)({}),z=function(t){return h(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(null===t[1]?t[2]:t[1])||{}]},W=function(){return f(H,(0,r.useContext)(N))},Z=function(t,e,n){var r=e[t]||(e[t]=[]);return r.push(n),function(){var t=r.indexOf(n);t>=0&&(r[t]=r[r.length-1],r.pop())}},G={dedupe:!0},J=(u.defineProperty((function(t){var e=t.value,n=F((0,r.useContext)(N),e),o=e&&e.provider,i=(0,r.useState)((function(){return o?V(o(n.cache||$),e):c}))[0];return i&&(n.cache=i[0],n.mutate=i[1]),I((function(){return i?i[2]:c}),[]),(0,r.createElement)(N.Provider,f(t,{value:n}))}),"default",{value:H}),s=function(t,e,n){var s=n.cache,a=n.compare,u=n.fallbackData,p=n.suspense,d=n.revalidateOnMount,v=n.refreshInterval,m=n.refreshWhenHidden,g=n.refreshWhenOffline,y=P.get(s),b=y[0],_=y[1],w=y[2],O=y[3],S=j(t),k=S[0],x=S[1],T=S[2],A=(0,r.useRef)(!1),D=(0,r.useRef)(!1),L=(0,r.useRef)(k),U=(0,r.useRef)(e),V=(0,r.useRef)(n),B=function(){return V.current},$=function(){return B().isVisible()&&B().isOnline()},q=function(t){return s.set(T,f(s.get(T),t))},H=s.get(k),F=l(u)?n.fallback[k]:u,N=l(H)?F:H,z=s.get(T)||{},W=z.error,J=!A.current,X=function(){return J&&!l(d)?d:!B().isPaused()&&(p?!l(N)&&n.revalidateIfStale:l(N)||n.revalidateIfStale)},Y=!(!k||!e)&&(!!z.isValidating||J&&X()),Q=function(t,e){var n=(0,r.useState)({})[1],o=(0,r.useRef)(t),i=(0,r.useRef)({data:!1,error:!1,isValidating:!1}),s=(0,r.useCallback)((function(t){var r=!1,s=o.current;for(var a in t){var c=a;s[c]!==t[c]&&(s[c]=t[c],i.current[c]&&(r=!0))}r&&!e.current&&n({})}),[]);return I((function(){o.current=t})),[o,i.current,s]}({data:N,error:W,isValidating:Y},D),tt=Q[0],et=Q[1],nt=Q[2],rt=(0,r.useCallback)((function(t){return o(void 0,void 0,void 0,(function(){var e,r,o,u,f,p,d,v,m,g,y,b,_;return i(this,(function(i){switch(i.label){case 0:if(e=U.current,!k||!e||D.current||B().isPaused())return[2,!1];u=!0,f=t||{},p=!O[k]||!f.dedupe,d=function(){return!D.current&&k===L.current&&A.current},v=function(){var t=O[k];t&&t[1]===o&&delete O[k]},m={isValidating:!1},g=function(){q({isValidating:!1}),d()&&nt(m)},q({isValidating:!0}),nt({isValidating:!0}),i.label=1;case 1:return i.trys.push([1,3,,4]),p&&(R(s,k,tt.current.data,tt.current.error,!0),n.loadingTimeout&&!s.get(k)&&setTimeout((function(){u&&d()&&B().onLoadingSlow(k,n)}),n.loadingTimeout),O[k]=[e.apply(void 0,x),M()]),_=O[k],r=_[0],o=_[1],[4,r];case 2:return r=i.sent(),p&&setTimeout(v,n.dedupingInterval),O[k]&&O[k][1]===o?(q({error:c}),m.error=c,y=w[k],!l(y)&&(o<=y[0]||o<=y[1]||0===y[1])?(g(),p&&d()&&B().onDiscarded(k),[2,!1]):(a(tt.current.data,r)?m.data=tt.current.data:m.data=r,a(s.get(k),r)||s.set(k,r),p&&d()&&B().onSuccess(r,k,n),[3,4])):(p&&d()&&B().onDiscarded(k),[2,!1]);case 3:return b=i.sent(),v(),B().isPaused()||(q({error:b}),m.error=b,p&&d()&&(B().onError(b,k,n),("boolean"==typeof n.shouldRetryOnError&&n.shouldRetryOnError||h(n.shouldRetryOnError)&&n.shouldRetryOnError(b))&&$()&&B().onErrorRetry(b,k,n,rt,{retryCount:(f.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return u=!1,g(),d()&&p&&R(s,k,m.data,m.error,!1),[2,!0]}}))}))}),[k]),ot=(0,r.useCallback)(K.bind(c,s,(function(){return L.current})),[]);if(I((function(){U.current=e,V.current=n})),I((function(){if(k){var t=k!==L.current,e=rt.bind(c,G),n=0,r=Z(k,_,(function(t,e,n){nt(f({error:e,isValidating:n},a(tt.current.data,t)?c:{data:t}))})),o=Z(k,b,(function(t){if(0==t){var r=Date.now();B().revalidateOnFocus&&r>n&&$()&&(n=r+B().focusThrottleInterval,e())}else if(1==t)B().revalidateOnReconnect&&$()&&e();else if(2==t)return rt()}));return D.current=!1,L.current=k,A.current=!0,t&&nt({data:N,error:W,isValidating:Y}),X()&&(l(N)||C?e():E(e)),function(){D.current=!0,r(),o()}}}),[k,rt]),I((function(){var t;function e(){var e=h(v)?v(N):v;e&&-1!==t&&(t=setTimeout(n,e))}function n(){tt.current.error||!m&&!B().isVisible()||!g&&!B().isOnline()?e():rt(G).then(e)}return e(),function(){t&&(clearTimeout(t),t=-1)}}),[v,m,g,rt]),(0,r.useDebugValue)(N),p&&l(N)&&k)throw U.current=e,V.current=n,D.current=!1,l(W)?rt(G):W;return{mutate:ot,get data(){return et.data=!0,N},get error(){return et.error=!0,W},get isValidating(){return et.isValidating=!0,Y}}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=W(),r=z(t),o=r[0],i=r[1],a=r[2],c=F(n,a),u=s,l=c.use;if(l)for(var h=l.length;h-- >0;)u=l[h](u);return u(o,i||c.fetcher,c)})}}]);